(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={item:"ImageGalleryItem_item__2ey0n",image:"ImageGalleryItem_image__2xsbt"}},12:function(e,t,a){e.exports={img:"NotFoundImage_img__oc4pF",title:"NotFoundImage_title__-iCSW"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},24:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__gboaM"}},26:function(e,t,a){e.exports={button:"Button_button__3QF_k"}},32:function(e,t,a){},33:function(e,t,a){},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__jo466",form:"Searchbar_form__XuKjc",button:"Searchbar_button__MhnaU",label:"Searchbar_label__1BV3w",input:"Searchbar_input__2C4aO"}},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(5),r=a.n(o),i=(a(32),a(4)),s=a(6),u=(a(33),a(15),a(7)),l=a.n(u),b=a(1);var m=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(b.jsx)("header",{className:l.a.searchbar,children:Object(b.jsxs)("form",{className:l.a.form,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):s.b.warn("Enter correct value")},children:[Object(b.jsx)("button",{type:"submit",className:l.a.button,children:Object(b.jsx)("span",{className:l.a.label,children:"Search"})}),Object(b.jsx)("input",{value:o,onChange:function(e){r(e.currentTarget.value)},className:l.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},j=a(14),d=(a(35),a(24)),h=a.n(d),f=a(25),g=a.n(f),O={fetchImagesWithQuery:function(e,t){return g.a.get("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22352284-07c51f530b6e71a5deb2eb1e0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){if(200===e.status&&0!==e.data.length)return e.data.hits;if(404===e.status)throw new Error(e.message||"Your query is not find")}))}},p=a(11),_=a.n(p),x=function(e){var t=e.image,a=e.descr,n=e.onOpenModal,c=e.largeImg;return Object(b.jsx)("li",{className:_.a.item,onClick:n,children:Object(b.jsx)("img",{src:t,alt:a,className:_.a.image,source:c})})},v=a(26),y=a.n(v),S=function(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",className:y.a.button,onClick:t,children:"Load more"})},w=a(27),N=a.n(w),I=a(12),k=a.n(I),C=a.p+"static/media/notfound.6fed700b.jpg",F=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{src:C,alt:"try to find smth",className:k.a.img}),Object(b.jsx)("h2",{className:k.a.title,children:" Try to find something else"})]})},E=a(13),M=a.n(E),L=document.querySelector("#modal-root");var W=function(e){var t=e.imageInfo,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&a()};return Object(o.createPortal)(Object(b.jsx)("div",{className:M.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(b.jsx)("div",{className:M.a.modal,children:Object(b.jsx)("img",{src:t.largeImageURL,alt:t.tags})})}),L)},B="idle",G="pending",Q="resolved",T="rejected";var V=function(e){var t=e.searchValue,a=Object(n.useState)(null),c=Object(i.a)(a,2),o=c[0],r=c[1],u=Object(n.useState)(1),l=Object(i.a)(u,2),m=l[0],d=l[1],f=Object(n.useState)(null),g=Object(i.a)(f,2)[1],p=Object(n.useState)(B),_=Object(i.a)(p,2),v=_[0],y=_[1],w=Object(n.useState)(null),I=Object(i.a)(w,2),k=I[0],C=I[1];Object(n.useEffect)((function(){t&&(y(G),O.fetchImagesWithQuery(t,1).then((function(e){if(0===e.length)return s.b.error("Can't find ".concat(t,". Sorry(")),void y(T);r(e),y(Q)})).catch((function(e){g(e.message),y(T)})),d(2))}),[t]);var E=function(e){C(e)};return"idle"===v?Object(b.jsx)("h1",{style:{color:"darkblue",textAlign:"center"},children:"Find your image!"}):"pending"===v?Object(b.jsx)(N.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}):"rejected"===v?Object(b.jsx)(F,{}):"resolved"===v?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:h.a.gallery,children:o.map((function(e){return Object(b.jsx)(x,{onOpenModal:function(){return E(e)},image:e.webformatURL,descr:e.tags},e.id)}))}),Object(b.jsx)(S,{onClick:function(){d(m+1),y(G),O.fetchImagesWithQuery(t,m).then((function(e){r((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))})),y(Q),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){g(e.message),y(T)}))}}),k&&Object(b.jsx)(W,{onClose:E,imageInfo:k})]}):void 0};var q=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{onSubmit:function(e){c(e)}}),Object(b.jsx)(V,{searchValue:a}),Object(b.jsx)(s.a,{})]})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.ea4403eb.chunk.js.map